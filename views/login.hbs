<div class="tab-content container py-5">

    <div class="row">
        <div class="col-md-6 mx-auto">
            <div class="myform form ">
                <div class="logo mb-3">
                    <div class="col-md-12 text-center">
                        <h1 class="text-warning">Se connecter</h1>
                    </div>
                </div>

                <!-- Email input -->
                <div class="form-outline mb-4">
                    <label class="text-warning" for="loginName">Email ou nom d'utilisateur</label>
                    <input type="email" id="loginName" class="form-control"
                           placeholder="exemple@exemple.com ou exemple123"/>
                </div>

                <!-- Password input -->
                <div class="form-outline mb-4">
                    <label class="text-warning" for="loginPassword">Mot de passe</label>
                    <input type="password" id="loginPassword" class="form-control" placeholder="exemple_motdepasse"/>
                </div>

                <!-- 2 column grid layout -->
                <div class="row mb-4">
                    <div class="col-md-6 d-flex justify-content-center">
                        <!-- Checkbox -->
                        <div class="mb-3 mb-md-0">
                            <input class="form-check-input" type="checkbox" value="" id="loginCheck" checked/>
                            <label class="form-check-label text-warning" for="loginCheck"> Se souvenir de moi ? </label>
                        </div>
                    </div>

                    <div class="col-md-6 d-flex justify-content-center">
                        <!-- Simple link -->
                        <a href="#!">Mot de passe oubli√© ?</a>
                    </div>
                </div>

                <!-- Submit button -->
                <button type="submit" class="btn btn-warning btn-block mb-4 text-dark font-weight-bold"
                        id="loginButton">Se connecter
                </button>

                <!-- Register buttons -->
                <div class="text-center text-warning">
                    <p>Pas encore de compte ? <a href="/login/register">S'enregistrer</a></p>
                </div>
            </div>
        </div>
    </div>
</div>
        <!-- Pills content -->


        <script>
            // me connecter si les identifiant son valide en appuyant sur le bouton
            document.getElementById("loginButton").addEventListener("click", function () {
                var loginName = document.getElementById("loginName").value;
                var loginPassword = document.getElementById("loginPassword").value;
                var loginCheck = document.getElementById("loginCheck").checked;
                console.log(loginName);
                console.log(loginPassword);
                console.log(loginCheck);
                //faire la requete pour se connecter avec les identifiants
                //si les identifiants sont valide
                //rediriger vers la page d'accueil
                //sinon afficher un message d'erreur
                fetch(
                        "http://localhost:3000/login/check",
                        {
                            method: "POST",
                            headers: {
                                "Content-Type": "application/json"
                            },
                            body: JSON.stringify({
                                loginName: loginName,
                                loginPassword: loginPassword,
                                loginCheck: loginCheck
                            })
                        }
                ).then(function (response) {
                    return response.json();
                }).then(function (data) {
                    console.log(data);
                    if (data.success) {
                        window.location.href = "http://localhost:3000/";
                    } else {
                        alert("Identifiants incorrects");
                    }
                });
            });
        </script>
